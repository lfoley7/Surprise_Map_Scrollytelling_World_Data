<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Military Spending Timeline</title>
    <link rel="stylesheet" href="index.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
    <link title="timeline-styles" rel="stylesheet"
        href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css" />
    <script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
</head>

<body>
    <div id="container">
        <div id="timeline"></div>
        <iframe id="graph-iframe" src="d3graph/graph.html" frameborder="0"></iframe>
    </div>

    <script>
        var timeFrames = [
            {
                startYear: 1960,
                endYear: 1964,
                countries: ["United States", "Japan"],
            },
            {
                startYear: 1965,
                endYear: 1969,
                countries: ["Argentina", "Armenia", "Australia", "Austria"],
            },
            {
                startYear: 1970,
                endYear: 1974,
                countries: ["Azerbaijan", "Bahrain", "Bangladesh", "Belarus"],
            },
            {
                startYear: 1975,
                endYear: 1979,
                countries: ["Belgium", "Belize", "Benin", "Bolivia"],
            },
            {
                startYear: 1980,
                endYear: 1984,
                countries: ["Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei"],
            },
            {
                startYear: 1985,
                endYear: 1989,
                countries: ["Bulgaria", "Burkina Faso", "Burundi", "Cambodia"],
            },
            {
                startYear: 1990,
                endYear: 1994,
                countries: [
                    "Cameroon",
                    "Canada",
                    "Cape Verde",
                    "Central African Republic",
                ],
            },
            {
                startYear: 1995,
                endYear: 1999,
                countries: ["Chad", "Chile", "China", "Colombia"],
            },
            {
                startYear: 2000,
                endYear: 2004,
                countries: [
                    "Congo, DR",
                    "Congo, Republic",
                    "Costa Rica",
                    "Cote d'Ivoire",
                ],
            },
            {
                startYear: 2005,
                endYear: 2009,
                countries: ["Croatia", "Cuba", "Cyprus", "Czech Republic"],
            },
            {
                startYear: 2010,
                endYear: 2014,
                countries: ["Denmark", "Djibouti", "Dominican Republic", "Ecuador"],
            },
            {
                startYear: 2015,
                endYear: 2019,
                countries: ["Egypt", "El Salvador", "Equatorial Guinea", "Eritrea"],
            },
            {
                startYear: 2020,
                endYear: 2022,
                countries: ["Estonia", "Eswatini", "Ethiopia", "European Union"],
            },
        ];

        var events = [
            {
                startYear: 1961,
                endYear: 1961,
                graphStartYear: 1960,
                graphEndYear: 1992,
                Name: "Construction of Berlin Wall",
                Description:
                    "Berlin wall was constructed as an attempt to prevent people from escaping East Berlin under the Soviet Union control",
                countries: ["United States", "Germany", "United Kingdom", "France"],
            },
            {
                startYear: 1962,
                endYear: 1962,
                graphStartYear: 1960,
                graphEndYear: 1970,
                Name: "Cuban Missile Crisis",
                Description:
                    "Cuban Missile Crisis almost brought the U.S. and Soviet Union to war due to Soviet nuclear armed ballistic missles in Cuba",
                countries: ["United States", "Cuba"],
            },
            {
                startYear: 1963,
                endYear: 1963,
                graphStartYear: 1960,
                graphEndYear: 1965,
                Name: "JFK Assasination",
                Description:
                    "While campaigning in Texas, John F. Kennedy was shot during the parade.",
                countries: ["United States"],
            },
            {
                startYear: 1963,
                endYear: 1963,
                graphStartYear: 1963,
                graphEndYear: 1975,
                Name: "Kenya Independence",
                Description:
                    "After the Mau Mau Uprising, Great Britain started losing control and eventually negotiated indepedence as the empire started to unable maintain itself",
                countries: ["Kenya", "United Kingdom"],
            },
            {
                startYear: 1964,
                endYear: 1964,
                graphStartYear: 1960,
                graphEndYear: 1970,
                Name: "Brazil copu d'Ã©tat",
                Description:
                    "This event was a military coup to overthorw the Brazilian president and started a military dictatorship until 1985",
                countries: ["Brazil"],
            },
            {
                startYear: 1964,
                endYear: 1972,
                graphStartYear: 1960,
                graphEndYear: 1975,
                Name: "Zimbabwe Started To fight for independence",
                Description:
                    "Zimbabwe African People's Union and Zimbabew African National Union backed by communist countries started to engage in guerrilla operations and started civil war",
                countries: ["Zimbabwe", "United Kingdom"],
            },
            {
                startYear: 1965,
                endYear: 1965,
                graphStartYear: 1960,
                graphEndYear: 1970,
                Name: "The India-Pakistan War of 1965",
                Description:
                    "This was the second war between India and Pakistan over the satus of the state of Jammu and Kashmir. The conflict did not reolsve the dispute",
                countries: ["India", "Pakistan", "United States"],
            },
            {
                startYear: 1967,
                endYear: 1967,
                graphStartYear: 1960,
                graphEndYear: 1970,
                Name: "6 Days War",
                Description:
                    "This war changed the landscape of the Middle East. Israel defeated three Arab arimies and became the dominant military power in the region",
                countries: ["Jordan", "Isreael", "Egypt", "Syria"],
            },
            {
                startYear: 1967,
                endYear: 1970,
                graphStartYear: 1960,
                graphEndYear: 1975,
                Name: "Nigerian Civil War",
                Description:
                    "The war started after a region self-declared independence called Republic of Biafra",
                countries: ["Nigeria", "Egypt"],
            },
            {
                startYear: 1972,
                endYear: 1972,
                graphStartYear: 1970,
                graphEndYear: 1980,
                Name: "Anti-Ballistic Missile Treaty and SALT I",
                Description:
                    "As the Cold War increase the tenseion between the U.S. and the Soviet Union, both agreed to sign agreements to limit the number of nuclear missiles in their arsenal.",
                countries: ["United States"],
            },
            {
                startYear: 1973,
                endYear: 1974,
                graphStartYear: 1970,
                graphEndYear: 1980,
                Name: "First Oil Crisis",
                Description:
                    "Staring with Saudi Arabia,major oil export coutnries decided to place embargo on countries that supported Israel during the Yom Kippur war of Octovber",
                countries: [
                    "Israel",
                    "Egypt",
                    "Syria",
                    "United States",
                    "Canada",
                    "Japan",
                    "Netherlands",
                ],
            },
            {
                startYear: 1972,
                endYear: 1972,
                graphStartYear: 1970,
                graphEndYear: 2000,
                Name: "U.S. establishes diplomacy with China",
                Description:
                    "Nixon visited China to gain more leverage over the Soviet Union and officially established diplomatic relationship with People's Republic of China and ended support to Taiwan.",
                countries: ["United States", "China", "Taiwan"],
            },
            {
                startYear: 1979,
                endYear: 1979,
                graphStartYear: 1975,
                graphEndYear: 1985,
                Name: "Iranian Revolution",
                Description:
                    "The Iranian Revolution overthrew the Imperial State of Iran and turned into Islamic Republic of Iran with a theoractic government.",
                countries: ["Iran"],
            },
            {
                startYear: 1980,
                endYear: 1980,
                graphStartYear: 1975,
                graphEndYear: 1990,
                Name: "U.S. provides military assistance to Pakistan",
                Description:
                    "U.S. provided aid to Pakistan due to Soviet Union's involvement with Afghanistan",
                countries: ["United States", "Pakistan"],
            },
            {
                startYear: 1982,
                endYear: 1985,
                graphStartYear: 1975,
                graphEndYear: 1990,
                Name: "Lebanon War",
                Description:
                    "The war started when Israel invaded souther Lebanon. The conflicted was a result of division between supporting or opposing Palesinian resistance to stage operation against Israel.",
                countries: ["Lebanon", "Israel", "Syria"],
            },
            {
                startYear: 1982,
                endYear: 1983,
                graphStartYear: 1980,
                graphEndYear: 1990,
                Name: "U.S. invade Grenada",
                Description:
                    "The U.S. invaded Grenada to protect American students and remove Cuban influence on the island",
                countries: ["United States", "Cuba"],
            },
            {
                startYear: 1983,
                endYear: 2009,
                graphStartYear: 1983,
                graphEndYear: 2009,
                Name: "Sri Lanka Civil War",
                Description:
                    "The civil warstarted due to the conflict between majority and minotiry ethnic groups. The modern conflict had strong Indian involvented.",
                countries: ["Sri Lanka", "India"],
            },
            {
                startYear: 1987,
                endYear: 1987,
                graphStartYear: 1985,
                graphEndYear: 2000,
                Name: "Taiwan Ends Martial Law",
                Description:
                    "After the Chinese Civil War, Taiwan entered a period of White Terro where martial laws are strictly enforced. This marks the start towards a democracy.",
                countries: ["Taiwan", "China"],
            },
            {
                startYear: 1986,
                endYear: 1986,
                graphStartYear: 1990,
                graphEndYear: 2000,
                Name: "South Yemen Civil War",
                Description:
                    "This was a failed coup d'etat that resulted from ideological differences ebtween two factions ruling Yemeni Socialist Party.",
                countries: ["Yemen"],
            },
            {
                startYear: 1989,
                endYear: 1989,
                graphStartYear: 1985,
                graphEndYear: 1995,
                Name: "Tianman Sqaure Protest",
                Description:
                    "On June 4th, 1989, after failing to reach a resolution, the Chinese government send the army and stormed the square with tanks killing the protesters.",
                countries: ["China"],
            },
            {
                startYear: 1989,
                endYear: 1989,
                graphStartYear: 1989,
                graphEndYear: 1995,
                Name: "Philippine Coup attempt",
                Description:
                    "This was the most serious attempt coup attmpt ignited by corruption, bureaucratic inefficiency, and linenit treatment of communist insurgents.",
                countries: ["Philippines", "United States"],
            },
            {
                startYear: 1990,
                endYear: 1990,
                graphStartYear: 1990,
                graphEndYear: 2000,
                Name: "U.S. invades Panama",
                Description:
                    "The U.S. invaded Pananma to remove the de facto ruler of Panama, who was wanted for racketeering and drug trafficking.",
                countries: ["United States", "Panama"],
            },
            {
                startYear: 1990,
                endYear: 1990,
                graphStartYear: 1990,
                graphEndYear: 2000,
                Name: "German Unification",
                Description:
                    "The year marked the divided Germany joined together as one indenpendent country and leaving control of the ally nations.",
                countries: ["Germany"],
            },
            {
                startYear: 1990,
                endYear: 1991,
                graphStartYear: 1991,
                graphEndYear: 2001,
                Name: "The Gulf War",
                Description:
                    "The war is a response to Iraq's invasion of Kuwait. A joint effort of the U.S. and a 42 country coalition fought and freed Kuwait in 1991",
                countries: ["Iran", "United States", "Kuwait", "Iraq"],
            },
            {
                startYear: 1991,
                endYear: 1991,
                graphStartYear: 1991,
                graphEndYear: 2005,
                Name: "Soviet Union Collapsed",
                Description:
                    "As the level of political turmoil increase and Gorbachev losing power, the Soviet Union ultimately collapsed leading to the independence of numerious nations.",
                countries: [
                    "Russia",
                    "Ukraine",
                    "Georgia",
                    "Azerbaijan",
                    "Armenia",
                    "Estonia",
                    "Latvia",
                    "Lithuania",
                    "Moldova",
                ],
            },
            {
                startYear: 1995,
                endYear: 1995,
                graphStartYear: 1995,
                graphEndYear: 2005,
                Name: "Bosnian War",
                Description:
                    "This war was an internal armed conflict and part of the breakup of Yugoslavia",
                countries: ["Bosnia and Herzegovina"],
            },
            {
                startYear: 1995,
                endYear: 1995,
                graphStartYear: 1990,
                graphEndYear: 2005,
                Name: "U.S. giving Panama control back",
                Description:
                    "Panama was fully liberated this year and a rare example of democratization by foreign-imposed-regime change.",
                countries: ["United States", "Panama"],
            },
            {
                startYear: 1998,
                endYear: 1998,
                graphStartYear: 1995,
                graphEndYear: 2010,
                Name: "Pakistan Nuclear Testing",
                Description:
                    "Pakistan detonated 5 explosions this year and abadoned its nuclear ambiguity.",
                countries: ["United States", "Pakistan", "Israel"],
            },
            {
                startYear: 2001,
                endYear: 2001,
                graphStartYear: 2000,
                graphEndYear: 2020,
                Name: "9/11",
                Description:
                    "This tragic marked the start of the War on Terror and raises counter terrorism in multiple world powers.",
                countries: [
                    "United States",
                    "Iraq",
                    "Israel",
                    "United Kingdom",
                    "China",
                    "Japan",
                    "Canada",
                ],
            },
            {
                startYear: 2003,
                endYear: 2011,
                graphStartYear: 2000,
                graphEndYear: 2020,
                Name: "Iraq War",
                Description:
                    "As part of war on terror, the U.S. invasion of Irqa is to disarm Iraq and end Saddam Hussein's support for terrorism.",
                countries: [
                    "Australia",
                    "United States",
                    "United Kingdom",
                    "Iran",
                    "Iraq",
                    "Poland",
                ],
            },
            {
                startYear: 2003,
                endYear: 2020,
                graphStartYear: 2003,
                graphEndYear: 2020,
                Name: "War in Darfur",
                Description:
                    "The war started due to rebel groups attacking the Sudan government, in response, they started a genocidal campaign against all Arabs in the Darfur region.",
                countries: ["South Sudan", "China", "Iran", "Libya", "Uganda"],
            },
            {
                startYear: 2003,
                endYear: 2003,
                graphStartYear: 1998,
                graphEndYear: 2003,
                Name: "Second Congo War Ended",
                Description:
                    "The rebel group surrendered and signed a peace treaty that put an end to the war.",
                countries: [
                    "Congo",
                    "Lybia",
                    "Namibia",
                    "Zimbabew",
                    "South Sudan",
                    "Uganda",
                ],
            },
            {
                startYear: 2008,
                endYear: 2008,
                graphStartYear: 2000,
                graphEndYear: 2016,
                Name: "2008 Recession",
                Description:
                    "One of the major recession that influenced multiple countries across the world.",
                countries: [
                    "United States",
                    "Argentina",
                    "Mexico",
                    "Hungary",
                    "Russia",
                    "Ireland",
                    "Romania",
                    "Jamaica",
                    "China",
                    "Japan",
                    "Brazil",
                    "Peru",
                    "India",
                ],
            },
            {
                startYear: 2008,
                endYear: 2008,
                graphStartYear: 2000,
                graphEndYear: 2016,
                Name: "Barack Obama wins presidential election",
                Description:
                    "While strong on the stance of war on terror, part of his presidency was aimed to review and decrease the Military spending.",
                countries: ["United States", "China"],
            },
            {
                startYear: 2010,
                endYear: 2012,
                graphStartYear: 2005,
                graphEndYear: 2018,
                Name: "Arab Spring",
                Description:
                    "Arab Spring was the democratic protest that took place in the Middle East.",
                countries: ["Tunisia", "Libya", "Yemen", "Syria", "Egypt", "Bahrain"],
            },
            {
                startYear: 2010,
                endYear: 2010,
                graphStartYear: 2005,
                graphEndYear: 2020,
                Name: "U.S. withdraw from Iraq",
                Description:
                    "As the war with Irqa prolonged, the public opinion of the invasion started to favor troop withdrawal. George W. Bush later signed an agreement to withdraw all U.S. troops before a deadline.",
                countries: ["Untied States", "Iraq"],
            },
            {
                startYear: 2011,
                endYear: 2011,
                graphStartYear: 2005,
                graphEndYear: 2015,
                Name: "Iran Nuclear Deal",
                Description:
                    "This was an attempt to stop the development of Iran's nuclear program and cut off all sources for Iran to obatin nuclear weapon.",
                countries: [
                    "Untied States",
                    "Iran",
                    "China",
                    "France",
                    "Germany",
                    "United Kingdom",
                ],
            },
            {
                startYear: 2016,
                endYear: 2016,
                graphStartYear: 2014,
                graphEndYear: 2022,
                Name: "Trump wins presidential election",
                Description:
                    "This started a different chapter in American foregin policy focused on Amerca First.",
                countries: ["United States", "Russia", "China"],
            },
            {
                startYear: 2020,
                endYear: 2020,
                graphStartYear: 2015,
                graphEndYear: 2022,
                Name: "COVID Pandemic",
                Description: "A major global pandemic that we all lived through.",
                countries: [
                    "United States",
                    "China",
                    "Russia",
                    "United Kingdom",
                    "Canda",
                    "Japan",
                    "Australia",
                    "German",
                ],
            },
            {
                startYear: 2020,
                endYear: 2021,
                graphStartYear: 2010,
                graphEndYear: 2022,
                Name: "U.S. withdrawal from Afghanistan",
                Description:
                    "Trump adminstration signed a deal with the Taliban to withdraw all NATO forces in return for Taliban's counter terrorism commitments.",
                countries: ["United States"],
            },
            {
                startYear: 2022,
                endYear: 2022,
                graphStartYear: 2019,
                graphEndYear: 2022,
                Description:
                    "Putin claimed Ukraine was governed by neo-Nazi that claims to be prosecuting Russians as a mean to challenge Ukraine's right to exist.",
                Name: "Russia invades Ukraine",
                countries: [
                    "United States",
                    "Russia",
                    "Ukraine",
                    "Taiwan",
                    "Germany",
                    "United Kingdom",
                    "Canada",
                    "Netherlands",
                ],
            },
        ];

        // var events = [
        //     {
        //         startYear: 1961,
        //         endYear: 1961,
        //         Name: "Construction of Berlin Wall",
        //         countries: ["United States", "Germany", "United Kingdom", "France"],
        //     },
        //     {
        //         startYear: 1962,
        //         endYear: 1962,
        //         Name: "Cuban Missile Crisis",
        //         countries: ["United States", "Cuba"],
        //     },
        //     {
        //         startYear: 1963,
        //         endYear: 1963,
        //         Name: "JFK Assasination",
        //         countries: ["United States"],
        //     },
        //     {
        //         startYear: 1963,
        //         endYear: 1963,
        //         Name: "Kenya Independence",
        //         countries: ["Kenya", "United Kingdom"],
        //     },
        //     {
        //         startYear: 1964,
        //         endYear: 1964,
        //         Name: "Brazil copu d'Ã©tat",
        //         countries: ["Brazil"],
        //     },
        //     {
        //         startYear: 1964,
        //         endYear: 1972,
        //         Name: "Zimbabwe Started To fight for independence",
        //         countries: ["Zimbabwe", "United Kingdom"],
        //     },
        //     {
        //         startYear: 1965,
        //         endYear: 1965,
        //         Name: "The India-Pakistan War of 1965",
        //         countries: ["India", "Pakistan"],
        //     },
        //     {
        //         startYear: 1967,
        //         endYear: 1967,
        //         Name: "6 Days War",
        //         countries: ["Jordan", "Isreael", "Egypt", "Syria"],
        //     },
        //     {
        //         startYear: 1967,
        //         endYear: 1970,
        //         Name: "Nigerian Civil War",
        //         countries: ["Nigeria", "Egypt"],
        //     },
        //     {
        //         startYear: 1972,
        //         endYear: 1972,
        //         Name: "Anti-Ballistic Missile Treaty and SALT I",
        //         countries: ["United States"],
        //     },
        //     {
        //         startYear: 1973,
        //         endYear: 1974,
        //         Name: "First Oil Crisis",
        //         countries: [
        //             "Israel",
        //             "Egypt",
        //             "Syria",
        //             "United States",
        //             "Canada",
        //             "  Japan",
        //             "Netherlands",
        //         ],
        //     },
        //     {
        //         startYear: 1972,
        //         endYear: 1972,
        //         Name: "U.S. formally establish diplomatic relationship with China",
        //         countries: ["United States", "China", "Taiwan"],
        //     },
        //     {
        //         startYear: 1979,
        //         endYear: 1979,
        //         Name: "Iranian Revolution",
        //         countries: ["Iran"],
        //     },
        //     {
        //         startYear: 1980,
        //         endYear: 1980,
        //         Name: "U.S. promise military assistance to Pakistan",
        //         countries: ["United States", "Pakistan"],
        //     },
        //     {
        //         startYear: 1982,
        //         endYear: 1985,
        //         Name: "Lebanon War",
        //         countries: ["Lebanon", "Israel", "Syria"],
        //     },
        //     {
        //         startYear: 1982,
        //         endYear: 1983,
        //         Name: "U.S. invade Grenada",
        //         countries: ["United States", "Cuba"],
        //     },
        //     {
        //         startYear: 1983,
        //         endYear: 2009,
        //         Name: "Sri Lanka Civil War",
        //         countries: ["Sri Lanka", "India"],
        //     },
        //     {
        //         startYear: 1987,
        //         endYear: 1987,
        //         Name: "Taiwan Ends Martial Law",
        //         countries: ["Taiwan", "China"],
        //     },
        //     {
        //         startYear: 1986,
        //         endYear: 1986,
        //         Name: "South Yemen Civil War",
        //         countries: ["Yemen"],
        //     },
        //     {
        //         startYear: 1989,
        //         endYear: 1989,
        //         Name: "Tianman Sqaure Protest",
        //         countries: ["China"],
        //     },
        //     {
        //         startYear: 1989,
        //         endYear: 1989,
        //         Name: "Philippines Coup attempt",
        //         countries: ["Philippines", "United States"],
        //     },
        //     {
        //         startYear: 1990,
        //         endYear: 1990,
        //         Name: "U.S. invades Panama",
        //         countries: ["United States", "Panama"],
        //     },
        //     {
        //         startYear: 1990,
        //         endYear: 1990,
        //         Name: "German Unification",
        //         countries: ["German"],
        //     },
        //     {
        //         startYear: 1990,
        //         endYear: 1991,
        //         Name: "The Gulf War",
        //         countries: ["Iran", "United States", "Kuwait", "Iraq"],
        //     },
        //     {
        //         startYear: 1991,
        //         endYear: 1991,
        //         Name: "Soviet Union Collapsed",
        //         countries: [
        //             "Russia",
        //             "Ukraine",
        //             "Georgia",
        //             "Azerbaijan",
        //             "Armenia",
        //             "Estonia",
        //             "Latvia",
        //             "Lithuania",
        //             "Moldova",
        //         ],
        //     },
        //     {
        //         startYear: 1995,
        //         endYear: 1995,
        //         Name: "Bosnian War",
        //         countries: ["Bosnia and Herzegovina"],
        //     },
        //     {
        //         startYear: 1995,
        //         endYear: 1995,
        //         Name: "U.S. giving Panama control back",
        //         countries: ["United States", "Panama"],
        //     },
        //     {
        //         startYear: 1998,
        //         endYear: 1998,
        //         Name: "Pakistan Nuclear Testing",
        //         countries: ["United States", "Pakistan", "Israel"],
        //     },
        //     {
        //         startYear: 2001,
        //         endYear: 2001,
        //         Name: "9/11",
        //         countries: [
        //             "United States",
        //             "Iraq",
        //             "Israel",
        //             "United Kingdom",
        //             "China",
        //             "Japan",
        //             "Canada",
        //         ],
        //     },
        //     {
        //         startYear: 2003,
        //         endYear: 2011,
        //         Name: "Iraq War",
        //         countries: [
        //             "Australia",
        //             "United States",
        //             "United Kingdom",
        //             "Iran",
        //             "Iraq",
        //             "Poland",
        //         ],
        //     },
        //     {
        //         startYear: 2003,
        //         endYear: 2020,
        //         Name: "War in Darfur",
        //         countries: ["South Sudan", "China", "Iran", "Libya", "Uganda"],
        //     },
        //     {
        //         startYear: 2003,
        //         endYear: 2003,
        //         Name: "Second Congo War Ended",
        //         countries: [
        //             "Congo",
        //             "Lybia",
        //             "Namibia",
        //             "Zimbabew",
        //             "South Sudan",
        //             "Uganda",
        //         ],
        //     },
        //     {
        //         startYear: 2008,
        //         endYear: 2008,
        //         Name: "2008 Recession",
        //         countries: [
        //             "United States",
        //             "Argentina",
        //             "Mexico",
        //             "Hungary",
        //             "Russia",
        //             "Ireland",
        //             "Romania",
        //             "Jamaica",
        //             "China",
        //             "Japan",
        //             "Brazil",
        //             "Peru",
        //             "India",
        //         ],
        //     },
        //     {
        //         startYear: 2008,
        //         endYear: 2008,
        //         Name: "Barack Obama wins presidential election",
        //         countries: ["United States", "China"],
        //     },
        //     {
        //         startYear: 2010,
        //         endYear: 2012,
        //         Name: "Arab Spring",
        //         countries: ["Tunisia", "Libya", "Yemen", "Syria", "Egypt", "Bahrain"],
        //     },
        //     {
        //         startYear: 2010,
        //         endYear: 2010,
        //         Name: "U.S. withdraw from Iraq",
        //         countries: ["Untied States", "Iraq"],
        //     },
        //     {
        //         startYear: 2011,
        //         endYear: 2011,
        //         Name: "Iran Nuclear Deal",
        //         countries: [
        //             "Untied States",
        //             "Iran",
        //             "China",
        //             "France",
        //             "Germany",
        //             "United Kingdom",
        //         ],
        //     },
        //     {
        //         startYear: 2015,
        //         endYear: 2015,
        //         Name: "U.S. started withdrawal in Afghanistan",
        //         countries: ["United States"],
        //     },
        //     {
        //         startYear: 2016,
        //         endYear: 2016,
        //         Name: "Trump wins presidential election",
        //         countries: ["United States", "Russia", "China"],
        //     },
        //     {
        //         startYear: 2020,
        //         endYear: 2020,
        //         Name: "COVID Pandemic",
        //         countries: [
        //             "United States",
        //             "China",
        //             "Russia",
        //             "United Kingdom",
        //             "Canda",
        //             "Japan",
        //             "Australia",
        //             "German",
        //         ],
        //     },
        //     {
        //         startYear: 2020,
        //         endYear: 2022,
        //         Name: "Russia invades Ukraine",
        //         countries: [
        //             "United States",
        //             "Russia",
        //             "Ukraine",
        //             "Taiwan",
        //             "Germany",
        //             "United Kingdom",
        //             "Canada",
        //             "Netherlands",
        //         ],
        //     },
        // ];

        document.addEventListener("DOMContentLoaded", function () {
            var timelineData = {
                title: {
                    text: {
                        headline: "Global Military Spending Timeline",
                        text: "<p>A detailed look at key events from 1960 to the present.</p>",
                    },
                },
                events: events.map(event => ({
                    start_date: {
                        year: event.startYear,
                        month: event.endYear === event.startYear ? 1 : undefined,
                    },
                    end_date: {
                        year: event.endYear,
                        month: event.endYear === event.startYear ? 12 : undefined,
                    },
                    text: {
                        headline: event.Name,
                        text: `${event.countries.join(", ")} - ${event.Description}`,
                    },
                    unique_id: "ev" + event.startYear +
                        (event.endYear !== event.startYear ? "-" + event.endYear : ""),
                })),
            };

            var options = {
                start_at_end: false,
                hash_bookmark: false,
                default_bg_color: { r: 255, g: 255, b: 255 },
                timenav_position: "bottom",
                optimal_tick_width: 100,
                scale_factor: 4,
            };

            function setCountriesForTimeFrame(startYear) {
                var timeFrame = timeFrames.find(
                    (frame) => frame.startYear === startYear
                );
                if (timeFrame) {
                    var iframe = document.getElementById("graph-iframe");
                    var countryList = timeFrame.countries.join(",");

                    iframe.src = `d3graph/graph.html?countries=${encodeURIComponent(
                        countryList
                    )}&startYear=${timeFrame.startYear}&endYear=${timeFrame.endYear}`;
                }
            }

            window.timeline = new TL.Timeline("timeline", timelineData, options);
            window.timeline.on("change", function (e) {
                var id = e.unique_id.slice(2);
                var selectedEvent = events.find(
                    (event) =>
                        "ev" +
                        event.startYear +
                        (event.endYear !== event.startYear
                            ? "-" + event.endYear
                            : "") ===
                        e.unique_id
                );
                if (selectedEvent) {
                    updateIframeWithCountries(
                        selectedEvent.countries,
                        selectedEvent.graphStartYear,
                        selectedEvent.graphEndYear
                    );
                }
            });

            function updateIframeWithCountries(countries, graphStartYear, graphEndYear) {
                var iframe = document.getElementById("graph-iframe");
                var countryList = countries.join(",");
                iframe.src = `d3graph/graph.html?countries=${encodeURIComponent(
                    countryList
                )}&startYear=${graphStartYear}&endYear=${graphEndYear}`;
            }

            // adding a scroll listener
            // it just cycles through the index of the iframes
            // var currentFrameIndex = 0;
            // window.addEventListener("wheel", function (event) {
            //     if (event.deltaY > 0) {
            //         // Scroll down
            //         currentFrameIndex++;
            //     } else if (event.deltaY < 0) {
            //         // Scroll up
            //         currentFrameIndex--;
            //     }
            //     currentFrameIndex =
            //         (currentFrameIndex + timeFrames.length) % timeFrames.length; // Ensure index wraps around
            //     var startYear = timeFrames[currentFrameIndex].startYear;
            //     setCountriesForTimeFrame(startYear);
            //     //   document.querySelector(`[data-id="${startYear}"]`).click();
            // });
        });
    </script>
</body>

</html>